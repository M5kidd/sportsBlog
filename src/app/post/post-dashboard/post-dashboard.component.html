<article>

  <mat-card class="container">
    <form class="create-article" #f="ngForm" (ngSubmit)="onSubmit(f)">
      <mat-form-field>
        <mat-label>Article Title</mat-label>
        <input matInput placeholder="Name your article" ngModel name="title" required>
      </mat-form-field>

      <mat-form-field>
        <mat-label>Author</mat-label>
        <input matInput placeholder="Who's writing this?" value="Matthew Kidd" type="text"ngModel name="author" required>
      </mat-form-field>

      <div class="file">
        <label class="file-label"></label><br>
        <input type="file" class="file-input" (change)="onUpload($event)" accept="image/*">
      </div>
      <!-- <div *ngIf="(snapshot | async) as snap">
        {{ snap.bytes}}
      </div> -->
      <div *ngIf="uploadPercent">
        <h3>Uploads</h3>
        <mat-progress-bar *ngIf="uploadPercent | async as pct" mode="determinate" [value]="pct"></mat-progress-bar>
      </div>
      <div *ngIf="downloadURL | async as url">
        <h3>Results!</h3>
        <img class="imgPreview" [src]="url">
        <a [href]="url">Download Me!</a>
      </div>
      <!-- <a [href]="downloadURL | async">{{ downloadURL | async }}</a> -->

      <mat-form-field>
        <mat-label>Content</mat-label>
        <textarea matInput rows="15" placeholder="Type your article here" ngModel name="content" required></textarea>
      </mat-form-field>
      <button mat-raised-button color="accent" type="submit" [disabled]="f.invalid">Create Post</button>
    </form>
  </mat-card>
</article>
